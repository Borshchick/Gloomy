const popupTriggerButtons=document.querySelectorAll("[data-popup-trigger]"),popup=document.querySelector(".pop-up__wrapper"),popUpWrapper=document.querySelector(".pop-up"),popupCloseButton=document.querySelector(".pop-up__close"),body=document.querySelector("body");function openPopUp(){popup.style.display="flex",body.style.overflow="hidden",body.classList.add("overflow-hidden")}function closePopUp(){popup.style.display="none",body.style.overflow="",body.classList.remove("overflow-hidden")}const popupTriggerButtonsArray=Array.from(popupTriggerButtons),inputs=(popupTriggerButtonsArray.forEach(e=>{e.addEventListener("click",function(){openPopUp()})}),document.addEventListener("click",function(e){popUpWrapper.contains(e.target)||popupTriggerButtonsArray.includes(e.target)||closePopUp()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&closePopUp()}),popupCloseButton.addEventListener("click",()=>{closePopUp()}),document.querySelectorAll(".pop-up__input")),popupSubmitButton=document.querySelector('input[type="submit"]'),tel=document.querySelector('input[type="tel"]'),popUpErrors=document.querySelectorAll(".pop-up-error-message"),popUpEmailError=document.getElementById("emailError"),popUpTelError=document.getElementById("phoneError"),popUpNameError=document.getElementById("nameError");function popUpFormData(){let p=new FormData;inputs.forEach(e=>{"submit"!==e.type&&p.append(e.name,e.value)}),fetch("/components/sendmail/contact.php",{method:"POST",body:p})}function clearAllInputs(){inputs.forEach(e=>{e.value=""})}function popupEmailValidate(){const o=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;let r=!0;return inputs.forEach(e=>{var p;if("email"===e.type)return""===(p=e.value.trim())?(popUpEmailError.innerHTML="Required",r=!1,void e.classList.add("pop-up-error-input")):o.test(p)?(popUpEmailError.innerHTML="",void e.classList.remove("pop-up-error-input")):(popUpEmailError.innerHTML="Invalid Email",r=!1,void e.classList.add("pop-up-error-input"))}),r}function popupNameValidate(){let p=!0;return inputs.forEach(e=>{if("name"===e.name){if(""===e.value.trim())return p=!1,popUpNameError.innerHTML="Required",void e.classList.add("pop-up-error-input");p=!0,popUpNameError.innerHTML="",e.classList.remove("pop-up-error-input")}}),p}tel.addEventListener("input",e=>{tel.value=tel.value.replace(/[^\d.]/g,"")}),popupSubmitButton.addEventListener("click",function(e){e.preventDefault();var e=popupEmailValidate(),p=popupNameValidate();e&&p&&(popUpFormData(),console.log("all ok"),closePopUp(),clearAllInputs())});
const firstCheckBoxes=document.querySelectorAll(".first_check"),secondCheckBoxes=document.querySelectorAll(".second-check"),personalDataInputs=document.querySelectorAll(".personal-data-input"),answerInput=document.querySelectorAll(".answer-input"),submitBtn=document.querySelector(".form-page__submit-button"),dataErrorMessages=document.querySelectorAll(".error-message"),emailErrorMessage=document.getElementById("email-error"),errorFirstCheck=document.querySelector(".error-check"),errorSecondCheck=document.querySelector(".error-second-check"),nonRequire=document.querySelector(".non-required"),urlErrorMessage=document.querySelector(".error-url"),textInputs=[],fetchData=()=>{const e=document.querySelectorAll("input"),o={plan:[],platforms:[]};let t=new FormData;e.forEach(e=>{var r;"submit"!==e.type&&("checkbox"===e.type?e.checked&&(r=document.querySelector(`label[for="${e.id}"]`))&&(console.log(e.name),o[e.name].push(r.textContent)):e.value&&t.append(e.name,e.value))});const r=Object.entries(o);r.forEach(([e,r])=>{t.append(e,r.join(", "))}),console.log("formData",t),fetch("/components/sendmail/posts.php",{method:"POST",body:t})};function addErrorMessage(e){e=e.name+"Error";const r=document.getElementById(e);r&&(r.innerHTML="Required")}function removeErrorMessage(e){e=e.name+"Error";const r=document.getElementById(e);r&&(r.innerHTML="")}function removeCheck(e){e.forEach(e=>{e.checked=!1})}function removeError(){emailErrorMessage.innerHTML="",personalDataInputs.forEach(e=>{e.value="",e.classList.remove("error-input"),e.classList.add("valid-border"),setTimeout(function(){e.classList.remove("valid-border")},2e3)})}function personalDataValidate(){let s=!0,c=!0,a=!0;return personalDataInputs.forEach(e=>{var r=e.getAttribute("type"),o=e.value.trim();if(!e.classList.contains("non-required"))if("email"===r){const t=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(""===o)return s=!1,emailErrorMessage.innerHTML="Required",void e.classList.add("error-input");if(!t.test(o))return s=!1,emailErrorMessage.innerHTML="Invalid Email",void e.classList.add("error-input");emailErrorMessage.innerHTML="",e.classList.remove("error-input")}else if("url"===e.getAttribute("name")){const n=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/;if(""===o)return urlErrorMessage.innerHTML="Required",a=!1,void e.classList.add("error-input");if(!n.test(o))return urlErrorMessage.innerHTML="Invalid URL",e.classList.add("error-input"),void(a=!1);a=!0,urlErrorMessage.innerHTML="",e.classList.remove("error-input")}else{if(""===o)return c=!1,e.classList.add("error-input"),void addErrorMessage(e);c=!0,removeErrorMessage(e),e.classList.remove("error-input")}}),s&&c&&a}function isFirstChecked(){let r=!1;for(let e=0;e<firstCheckBoxes.length;e++)if(firstCheckBoxes[e].checked){r=!0;break}return r?(console.log("checked"),!(errorFirstCheck.innerHTML="")):!(errorFirstCheck.innerHTML="Pick One")}function isSecondCheck(){let r=!1;for(let e=0;e<secondCheckBoxes.length;e++)if(secondCheckBoxes[e].checked){r=!0;break}return r?(errorSecondCheck.innerHTML="",console.log("good"),!0):!(errorSecondCheck.innerHTML="Pick One")}personalDataInputs.forEach(e=>{"email"!==e.type&&"competitors"!==e.name&&textInputs.push(e)}),submitBtn.addEventListener("click",function(e){e.preventDefault();var e=personalDataValidate(),r=isFirstChecked(),o=isSecondCheck();e&&r&&o?(fetchData(),removeCheck(firstCheckBoxes),removeCheck(secondCheckBoxes),removeError(),removeErrorMessage(),console.log("all ok")):console.log("i have bad news for u")});const formBg=document.querySelector(".pages-wrapper");currentPage.includes("contact-us-page.html")&&(formBg.style.backgroundPosition="center 200px");